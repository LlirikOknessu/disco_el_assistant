# Disco EL Assistant

Базовая заготовка проекта для ассистента с разделением на ядро, навыки, сервисные модули и конфигурацию.

## Структура проекта

```
core/          # Ядро ассистента и общая логика
skills/        # Навыки/команды и сценарии
config/        # Конфигурационные файлы (base/work/home)
interfaces/    # Пользовательские интерфейсы (CLI, web и т.п.)
services/      # Интеграции с внешними сервисами
scripts/       # Утилиты и скрипты обслуживания
```

Дополнительно в корне проекта находятся файлы `requirements.txt` и `.env.example`.

## Быстрый старт

1. Скопируйте файл окружения: `cp .env.example .env` (или позвольте скрипту сделать это автоматически).
2. Запустите скрипт подготовки окружения: `./scripts/setup_env.sh`.
3. Активируйте виртуальное окружение: `source .venv/bin/activate`.

Скрипт создаст виртуальное окружение, установит зависимости из `requirements.txt` и подготовит `.env` при первом запуске.

## Тестирование

После активации виртуального окружения выполните автоматические тесты:

```bash
pytest
```

Тесты помогают убедиться, что оркестратор и навыки корректно реагируют на ключевые сценарии работы ассистента.

## Запуск CLI

После настройки окружения вы можете пообщаться с ассистентом из терминала:

```bash
python -m interfaces.cli chat --profile work
```

Используйте флаг `--history-limit` для настройки глубины контекста и `--debug` для просмотра диагностической информации после ответа.

## Переменные окружения

| Переменная | Описание |
| ---------- | -------- |
| `OPENAI_API_KEY` | Ключ доступа к OpenAI API. |
| `ASSISTANT_PROFILE` | Активный профиль ассистента (`base`, `work`, `home` и т.д.). |
| `VECTOR_DB_URL` | Подключение к векторной базе (например, PostgreSQL, Chroma). |
| `ENVIRONMENT` | Имя окружения запуска (`development`, `production`). |
| `LOG_LEVEL` | Уровень логирования (`INFO`, `DEBUG` и т.п.). |
| `CONFIG_PATH` | Путь до файла конфигурации по умолчанию. |
| `WORKSPACE_DIR` | Рабочая директория для временных данных и файлов. |

Добавьте дополнительные переменные по мере развития проекта.

## Конфигурация

- `config/base.yaml` — базовые настройки приложения, указание модели, логирования и подключения к векторному хранилищу.
- `config/work.yaml` — пример профиля для рабочих задач (собственный workspace и коллекция векторной БД).
- `config/home.yaml` — пример профиля для личного использования.

При необходимости добавляйте новые файлы профилей, наследуя общие параметры из базового файла.

## Зависимости

Ключевые пакеты фиксируются в `requirements.txt`:

- `openai`
- `pydantic`
- `typer`
- `fastapi`
- `python-dotenv`
- `langchain`

Устанавливайте дополнительные библиотеки по мере необходимости.
